{% extends "layout.html" %}
{% block title %}批量添加用户 - 管理{% endblock %}
{% block content %}
<div class="page-header">
  <h1>批量添加用户</h1>
</div>

{% if status in [1, 2] %}
<div class="row">
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>学号</th>
        <th>姓名</th>
        <th>拼音</th>
        <th>入学年份</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
    {% for u in users %}
      <tr class="monospace">
        <td>{{u.stuid}}</td>
        <td>{{u.name}}</td>
        <td>{{u.pinyin}}</td>
        <td>{{u.category}}</td>
        <td>{{u.email}}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}

{% if status in [0,1] %}
<form class="form-horizontal" method="post">
<fieldset>
<input type="hidden" name="status" value="{{status}}">
{% if status == 1 %}
  <div class="form-group">
    <label class="col-md-offset-2 col-md-4" for="confirm">
      <input id="confirm" type="checkbox" required>
      确认？
    </label>
  </div>
  <div class="form-group">
    <div class="col-md-offset-2 col-md-4">
      <button class="btn btn-primary">批量注册</button>
    </div>
  </div>
{% endif %}

<div class="form-group">
  <label class="col-md-2 control-label" for="category">入学年份</label>  
  <div class="col-md-2">
    <input id="category" name="category" type="text" placeholder="例如：2014" class="form-control input-md" {% if status==1 %}readonly{% endif %} value="{{category}}" required>
  </div>
</div>
<div class="form-group">
  <label class="col-md-2 control-label" for="category">用户信息</label>  
  <div class="col-md-9">
    <textarea id="text" name="text" class="form-control input-md" style="font-family: monospace;" rows="20" placeholder="格式：学号&#9;名字&#9;Email&#10;例如：&#10;5140309000&#9;张三&#9;szhang@example.com&#10;5140309666&#9;李四&#9;sli@sjtu.edu.cn" {% if status==1 %}readonly{% endif %} required>{{text}}</textarea>
  </div>
</div>

{% if status == 0 %}
  <div class="form-group">
    <div class="col-md-offset-2 col-md-4">
      <button class="btn btn-primary">提交</button>
    </div>
  </div>
{% endif %}
</fieldset>
</form>
{% endif %}

{% endblock %}